# =============================================================================
# Skin Disease Analysis API - Environment Configuration
# =============================================================================
# Copy this file to .env and update values for your environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# SQLite (default for development)
DATABASE_URL="sqlite:///./skin_classifier.db"

# PostgreSQL (for production)
# DATABASE_URL="postgresql://username:password@localhost:5432/skin_classifier_db"

# Cloud PostgreSQL (Heroku, Railway, etc.)
# DATABASE_URL="postgresql://username:password@host:port/database_name"

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# IMPORTANT: Change this to a secure random string in production!
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY="your-secret-key-change-this-in-production"
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

DEBUG=True
HOST=0.0.0.0
PORT=8000

# =============================================================================
# FILE STORAGE
# =============================================================================

# Directory for uploaded images (relative to backend or absolute path)
UPLOAD_DIR="./uploads"

# Maximum upload size in bytes (default 10MB)
MAX_UPLOAD_SIZE=10485760

# =============================================================================
# MODEL PATHS
# =============================================================================
# All paths can be relative to backend directory or absolute

# Binary lesion classifier (ResNet18)
BINARY_CLASSIFIER_PATH="./binary_classifier_model/best_resnet18_binary.pth"

# Lesion classification model (HuggingFace checkpoint directory)
LESION_MODEL_PATH="./checkpoint-6762"

# ISIC 8-class skin lesion model
ISIC_MODEL_PATH="./checkpoints/isic_old/best_model.pth"
ISIC_MODEL_FALLBACK_PATH="./checkpoints/isic/best_model.pth"

# ISIC 2020 binary classification model (malignant vs benign)
ISIC_2020_BINARY_PATH="./checkpoints/isic/best_model.pth"

# Infectious disease model directory
INFECTIOUS_MODEL_DIR="./infectious_disease_model"

# DinoV2 inflammatory model (HuggingFace model ID)
INFLAMMATORY_MODEL_ID="Jayanth2002/dinov2-base-finetuned-SkinDisease"

# Pigmentation model directory (optional)
PIGMENTATION_MODEL_DIR="./pigmentation_model"

# General checkpoints directory
CHECKPOINTS_DIR="./checkpoints"

# =============================================================================
# MODEL INFERENCE SETTINGS
# =============================================================================

# Monte Carlo Dropout samples for uncertainty quantification
MC_DROPOUT_SAMPLES=25

# Input image size for models
MODEL_INPUT_SIZE=224

# Risk confidence thresholds
HIGH_RISK_CONFIDENCE_THRESHOLD=0.8
MEDIUM_RISK_CONFIDENCE_THRESHOLD=0.5

# =============================================================================
# CORS SETTINGS
# =============================================================================

# Comma-separated list of allowed origins, or "*" for all
CORS_ORIGINS="*"
CORS_ALLOW_CREDENTIALS=True

# =============================================================================
# LOGGING
# =============================================================================

LOG_LEVEL="INFO"
LOG_FILE="./server.log"

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================

# Google Places API for dermatologist/specialist finder
GOOGLE_PLACES_API_KEY=""

# OpenUV API for real-time UV index data
# Sign up for free at: https://www.openuv.io/
# Free tier: 50 requests/day (sufficient for personal use)
OPENUV_API_KEY=""

# Push notification service key
PUSH_NOTIFICATION_KEY=""

# Email service configuration
SMTP_HOST=""
SMTP_PORT=587
SMTP_USER=""
SMTP_PASSWORD=""
EMAIL_FROM="noreply@skinclassifier.app"

# =============================================================================
# WEARABLE INTEGRATION (Optional)
# =============================================================================

# Fitbit OAuth credentials (optional - for Fitbit integration)
FITBIT_CLIENT_ID=""
FITBIT_CLIENT_SECRET=""

# Garmin OAuth credentials (optional - for Garmin integration)
GARMIN_CLIENT_ID=""
GARMIN_CLIENT_SECRET=""

# Withings OAuth credentials (optional - for Withings integration)
WITHINGS_CLIENT_ID=""
WITHINGS_CLIENT_SECRET=""
